# Yandex.Tracker_changetoken

## Описание

Скрипт является **примером** перезаписи токена в триггерах Яндекс Трекер в заданной очереди. Текущая версия заменяет токен, указанный в заголовке HTTP-запроса и/или токен, который записан через отдельное поле "Способ авторизации".

В файл `data.log` записываются ответы сервера, которые могут содержать валидные токены и другую информацию, передача которой третьим лицам может скомпрометировать доступ в вашу учетную запись. Никому не передавайте логи работы скрипта.


## Подготовка окружения

Для запуска скрипта необходимо:

- Получить ID организации, которая привязана к Трекеру
- Выпустить токен сервисного приложения с правами tracker: read, tracker: write. Как получить токен (необходимо делать с учетной записи @yandex.ru администратора организации): https://yandex.cloud/ru/docs/tracker/concepts/access#section_about_OAuth.
- Заполнить файл sample.env полученными данными. Для дальнейшей работы файл необходимо переименовать в .env
- Подготовить виртуальное окружение (опционально): `python -m venv <название_виртуального_окружения>`. Подробнее про виртуальное окружение: https://docs.python.org/3/library/venv.html
- Установить зависимости, указанные в requirements.txt: `pip install -r requirements.txt`

## Запуск

`python changetoken.py (python3 changetoken.py)` - запуск скрипта в безопасном режиме. Будет произведен поиск токенов в указанной очереди, но перезапись не будет произведена. Вся информация будет записана в `data.log`

`python changetoken.py --force (python3 changetoken.py --force)` - запуск скрипта в рабочем режиме. Все изменения будут применены и записаны в логах.
